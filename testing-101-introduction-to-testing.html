<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="The first post in a series that explores what it means to write tests for our code. This introduction provides a high-level overview of various testing concepts; the goal is to build a common vocabulary for future posts." />
    <meta name="author" content="Aly Sivji" />
    <meta name="generator" content="Pelican (VoidyBootstrap theme)" />
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Testing 101: Introduction to Testing"/>
    <meta property="og:url" content="./testing-101-introduction-to-testing.html"/>
      <meta property="og:description" content="The first post in a series that explores what it means to write tests for our code. This introduction provides a high-level overview of various testing concepts; the goal is to build a common vocabulary for future posts."/>
      <meta property="article:section" content="Deep Dives"/>
        <meta property="article:tag" content="art-of-developer-testing"/>
        <meta property="article:tag" content="testing"/>
        <meta property="article:tag" content="python"/>
      <meta property="og:image"
            content="https://alysivji.github.io/images/30-39/testing101-social.png"/>
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Testing 101: Introduction to Testing">
    <meta name="twitter:description" content="The first post in a series that explores what it means to write tests for our code. This introduction provides a high-level overview of various testing concepts; the goal is to build a common vocabulary for future posts.">
    <meta name="twitter:site" content="@CaiusSivjus">
    <meta name="twitter:creator" content="@CaiusSivjus">
    <meta name="twitter:domain" content=".">
      <meta property="twitter:image"
            content="https://alysivji.github.io/images/30-39/testing101-social.png"/>

    <title>Testing 101: Introduction to Testing - Siv Scripts</title>

        <link rel="stylesheet"
              href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
              integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
              crossorigin="anonymous" />
      <link rel="stylesheet"
            href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
            integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
            crossorigin="anonymous">


      <link rel="stylesheet" href="./theme/css/tango.css" />
      <link rel="stylesheet" href="./theme/css/voidybootstrap.css" />
      <link rel="stylesheet" href="./theme/css/dataframe.css" />
      <link rel="stylesheet" href="./theme/css/custom.css" />

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js" integrity="sha384-FFgGfda92tXC8nCNOxrCQ3R8x1TNkMFqDZVQdDaaJiiVbjkPBXIJBx0o7ETjy8Bh" crossorigin="anonymous"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js" integrity="sha384-ZoaMbDF+4LeFxg6WdScQ9nnR1QC2MIRxA1O9KWEXQwns1G8UNyIEZIQidzb0T1fo" crossorigin="anonymous"></script>
    <![endif]-->

    <link rel="shortcut icon" href="./files/favicon.ico" />
        <link href="http://alysivji.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Siv Scripts Atom Feed" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90986575-1', '');
  ga('send', 'pageview');

</script>
  </head>

  <body>
    <nav class="navbar navbar-default">
      <div class="container">
	   <div class="navbar-header">
		<button type="button" class="navbar-toggle"
				data-toggle="collapse" data-target="#main-navbar-collapse">
		  <span class="sr-only">Toggle navigation</span>
		  <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" href="./" rel="home">
          <i class="fa fa-home fa-fw fa-lg"> </i> </a>
       </div>

      <div class="collapse navbar-collapse" id="main-navbar-collapse">
        <ul class="nav navbar-nav">
              <li>
                <a href="./pages/about.html">About</a>
              </li>
              <li>
                <a href="./pages/talks.html">Talks</a>
              </li>
            <li class="divider"></li>
            <li class="">
              <a href="./archives.html">Archives</a>
            </li>
          <li class="divider"></li>
            <li><a href="http://alysivji.github.io/feeds/all.atom.xml"
                   type="application/atom+xml" rel="alternate">
                <i class="fa fa-rss fa-fw fa-lg"></i> </a></li>
        </ul> <!-- /nav -->
      </div> <!-- /navbar-collapse -->
	  </div> <!-- /container -->
    </nav> <!-- /navbar -->

	<div class="jumbotron" id="overview">
	  <div class="container">
		<h1><a href="./">Siv Scripts</a></h1>
		<p class="lead">Solving Problems Using Code</p>
	  </div>
	</div>

    <div class="container" id="main-container">
      <div class="row">
        <div class="col-md-9" id="content">
<article itemscope="itemscope" itemtype="http://schema.org/BlogPosting">
  <header class="article-header">
<abbr class="article-header-date">
  Sun 21 October 2018
</abbr> <h1>
  <a href="./testing-101-introduction-to-testing.html" rel="bookmark"
     title="Permalink to Testing 101: Introduction to Testing">
    Testing 101: Introduction to Testing
  </a>
</h1><div class="article-header-info">
  <p>
      Posted by <a href="./author/aly-sivji.html">Aly Sivji</a>
    in 
    <a href="./category/deep-dives.html">
      Deep Dives</a>
    &nbsp;&nbsp;
  </p>
</div> <!-- /.article-header-info -->  </header>
  <div class="content-body" itemprop="text articleBody">
	<p>Programming is writing code to solve problems. Software Engineering is the practice of using a <strong>structured process</strong> to solve problems. As engineers, we want to have a codebase we can change, extend, and refactor as required. Tests ensure our program works as intended and that changes to the codebase do not break existing functionality.</p>
<p>At my last job, I worked with a Senior Engineer to build out a microservices-based backend to replace our existing Django monolith. It was a greenfield project and we were encouraged to try new things. I was reading <a href="https://pragprog.com/book/bopytest/python-testing-with-pytest">Python Testing with pytest</a> and convinced the Senior Engineer to let me bring <a href="http://pytest.org/">pytest</a> into our project. This was fortuitous as it forced me to take the lead in writing the initial set of tests we used as a template for all of our services.</p>
<p>This experience reinforced the principles highlighted in <a href="https://en.wikipedia.org/wiki/The_Pragmatic_Programmer">The Pragmatic Programmer</a>. It's about being pragmatic in <strong>what</strong> we test, <strong>how</strong> we test, and <strong>when</strong> we test; we should leverage tools and techniques that allow us to test our code as efficiently as possible. Testing needs to be easy and free of barriers; once testing feels like a chore, programmers won't do it... and this is how software quality slips.</p>
<p>We dread going into the code because either there are no tests or the tests that exist are so brittle that we're forced to rewrite tests as we write code. This is not what Software Engineering is about. Test should enable refactoring, not hamper our ability to make changes to the codebase. We should spend our time writing business logic, not wrestling with tests.</p>
<p>Testing is folklore in the sense that best practices and techniques are passed down from programmer to programmer while working on projects as part of a team. If you are new to the industry and are trying to grok testing, it's hard to figure out how to get started. It feels like there is a lot of conflicting advice out there, and that's because there is. Testing is opinionated, more-so than any other software engineering discipline. Folks are always arguing about what to test, how to test, and <strong>especially</strong> when to test.</p>
<p>This is the first in a series of posts that details my thought process for how I go about adding tests to a codebase. In this post, I provide a broad introduction to the world of testing so we can have a common vocabulary for future posts.</p>
<hr>
<h4>Table of Contents</h4>
<!-- TOC -->

<ul>
<li><a href="#what-is-testing">What is Testing</a></li>
<li><a href="#benefits-of-testing">Benefits of Testing</a></li>
<li><a href="#black-box-vs-white-box">Black Box vs White Box</a></li>
<li><a href="#test-pyramid">Test Pyramid</a></li>
<li><a href="#structuring-tests">Structuring Tests</a></li>
<li><a href="#what-to-test">What to Test</a></li>
<li><a href="#when-to-write-tests">When to Write Tests</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ul>
<!-- /TOC -->

<hr>
<p><a name="what-is-testing"></a></p>
<h2>What is Testing</h2>
<p>When we write code, we need to run it to ensure that it is doing what we expect it to. Tests are a contract with our code: given a value, we expect a certain result to be returned.</p>
<p>Running tests can be thought of as a feedback mechanism that informs us if our program works as intended:</p>
<p class="aligncenter">
  <img src="/images/30-39/feedback_loop.jpg" width=400 alt="Tests provide a feedback mechanism" align="top"/>
  <p></p>
</p>

<p>While passing tests <a href="http://wiki.c2.com/?TestsCantProveTheAbsenceOfBugs">cannot prove the absence bugs</a>, they do inform us that our code is working in the manner defined by the test. In contrast, a failing test indicates that something is not right. We need to understand why our test failed so we can modify code and/or tests, as required.</p>
<h3>Properties of Tests</h3>
<h4>1. Fast</h4>
<p>Tests give us confidence that our code is working as intended. A slower feedback loop hampers development as it takes us longer to find out if our change was correct. If our workflow is plagued by slow tests, we won't be running them as often. This will lead to problems down the line.</p>
<p><a name="what-is-testing-deterministic"></a></p>
<h4>2. Deterministic</h4>
<p>Tests should be <a href="https://en.wikipedia.org/wiki/Deterministic_system">deterministic</a>, i.e. the same input will always result in the same output. If tests are non-deterministic, we have to find a way to account for random behavior inside of our tests.</p>
<p>While there is definitely non-deterministic code in production (i.e. Machine Learning and AI), we should try to make all our non-probabilistic code as deterministic as possible. There is no point of doing additional work unless our program requires it.</p>
<p><a name="what-is-testing-automated"></a></p>
<h4>3. Automated</h4>
<p>We can confirm our program works by running it. This could be manually running a command in the <a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a> or refreshing a webpage; in both cases, we are looking to see if our program does what it is supposed to do. While manual testing is fine for small projects, it becomes unmanageable as our project grows in complexity.</p>
<p>By automating our test suite, we can quickly verify our program works on-demand. Some developers even have their tests triggered to run on file save.</p>
<h3>Formal Definition</h3>
<p>Let's go over some definitions so we have a common vocabulary going forward.</p>
<p class="aligncenter">
  <img src="/images/30-39/system_under_test.jpg" alt="Diagram of a system under test" />
</p>

<p>A <strong>System Under Test (SUT)</strong> is the entity that is currently being tested. This could be a line of code, a method, or an entire program.</p>
<p><strong>Acceptance Criteria</strong> refers to the check we perform that allows us to accept output from the system. The specificity and range of acceptance criteria depends on what we are testing: medical device and aerospace require tests to be specific as there is a lot less room for error.</p>
<p>If Amazon makes a bad recommendation, it's not the end of the world. If IBM's Watson suggests the wrong surgery, it can be life threatening.</p>
<p><strong>Testing</strong> refers to the process of entering Inputs into our System Under Test and validating Outputs against our Acceptance Criteria:</p>
<ul>
<li>If output is okay, our test passes.</li>
<li>If output is not okay, our test fails and we have to debug.</li>
</ul>
<p>Hopefully the test failure provides enough contextual information for us to find out where to look.</p>
<hr>
<p><a name="benefits-of-testing"></a></p>
<h2>Benefits of Testing</h2>
<p>A well-thought-out testing strategy paired with thorough test cases provides the following benefits:</p>
<h4>Modify Code with Confidence</h4>
<p>If a program does anything of interest, it has interactions between functions, classes, and modules. This means a single line change can break our program in unexpected ways. Tests give us confidence in our code. By running our tests after we modify our code, we can confirm our changes did not break existing functionality as defined by our tests.</p>
<p>In contrast, modifying a code base without tests is a challenge. There is no way of knowing if things are working as intended. We are programming by the seat of our pants, which is quite a risky proposition.</p>
<h4>Identify Bugs Early</h4>
<p>Bugs cost money. How much depends on when you find them.</p>
<p>Fixing bugs gets more expensive the further you are in the <a href="https://en.wikipedia.org/wiki/Systems_development_life_cycle">Software Development Life Cycle</a> (SDLC). <a href="http://blog.celerity.com/the-true-cost-of-a-software-bug">True Cost of a Software Bug</a> digs into this issue.</p>
<h4>Improve System Design</h4>
<p>This one is a bit controversial, but I think writing code with tests in mind improves system design. A thorough test suite shows that the developer has actually thought about the problem in some depth. Writing tests <a href="https://en.wikipedia.org/wiki/Eating_your_own_dog_food">forces you to use your own API</a>; this hopefully results in a better interface.</p>
<p>All projects have time constraints and it's quite easy to get into the habit of taking shortcuts that increase coupling between modules leading to complex interdependencies. We have to be cognizant of solving problems with <a href="https://en.wikipedia.org/wiki/Spaghetti_code">spaghetti code</a>.</p>
<p>Knowing we have to test our code forces us to write modular code. If something is clunky to test, there might be a better interface we can implement. Taking the time to write tests forces mindfulness upon us; we take a deep breath before looking at the problem from the perspective of a user.</p>
<p>Once you write testable code by using patterns like <a href="https://en.wikipedia.org/wiki/Dependency_injection">dependency injection</a>, you'll see how adding structure makes it easier to verify our code is doing what we expect it to.</p>
<hr>
<p><a name="black-box-vs-white-box"></a></p>
<h2>Black Box vs White Box</h2>
<p>Tests can be broadly classified into two broad categories: black box testing and white box testing.</p>
<p><strong>Black Box Testing</strong> refers to testing techniques in which the tester cannot see the inner workings of the item being tested.</p>
<p class="aligncenter">
  <img src="/images/30-39/black_box_testing.jpg" width=400 alt="Picture showing input and output going into a blackbox" />
</p>

<p><strong>White Box Testing</strong> is the technique in which the tester can see the inner workings of the item being tested.</p>
<p class="aligncenter">
  <img src="/images/30-39/white_box_testing.jpg" width=400 alt="Picture showing input and output going into a transparent box where we can see how information flows" />
</p>

<p>As developers, we perform white box testing. We wrote the code inside of the box and know how to test it thoroughly. This is not to say that there is not a need for black box testing, we should still have somebody perform testing at a higher level; proximity to the code can lead to blind spots in our tests.</p>
<hr>
<p><a name="test-pyramid"></a></p>
<!-- HERE -->

<h2>Test Pyramid</h2>
<p>The Automated Test Pyramid provides guidance on how to structure our testing strategy. It says we should write lots of fast and cheap unit tests and a small number of slow and expensive end-to-end tests.</p>
<p class="aligncenter">
  <img src="/images/30-39/test_pyramid.png" width=550 alt="Picture showing automated testing pyramid" />
</p>

<p>The Test Pyramid is not a hard and fast rule, but it provides a good place to start thinking about a testing strategy. A good rule of thumb is to write as many tests at each level as you need to have confidence in your system. We should be writing tests as we write code, iterating towards a testing strategy that works for the project we are working on.</p>
<h3>Unit Tests</h3>
<p>Unit tests are low-level tests that focus on testing a specific part of our system. They are cheap to write and fast to run. Test failures should provide enough contextual information to pinpoint the source of the error. These tests are typically written by developers during the Implementation phase of the <a href="https://en.wikipedia.org/wiki/Systems_development_life_cycle">Software Development Life Cycle</a> (SDLC).</p>
<p>Unit tests should be independent and isolated; interacting with external components increases both the scope of our tests and the time it takes for tests to run. As we will see in a future post, replacing dependencies with <a href="https://martinfowler.com/bliki/TestDouble.html">test doubles</a> results in deterministic tests that are quick to run.</p>
<p>How big should our unit test be? Like everything else in programming, it depends on what we are trying to do. Thinking in terms of a <a href="https://www.agileconnection.com/article/3-keys-mastering-test-driven-development">unit of behavior</a> allows us to write tests around logical blocks of code.</p>
<p>The Test Pyramid recommends having a lot of unit tests in our test suite. These tests give us confidence that our program works as expected. Writing new code or modifying existing code might require us to rewrite some of our tests. This is standard practice, our test suite grows with our code base.</p>
<p>Try to be cognizant of our test suite growing in complexity. Remember, <strong>code that tests our production code is also production code</strong>. Take the time to refactor your tests to ensure they are efficient and effective.</p>
<h4>Unit Test Example</h4>
<p>Suppose we have the following function that takes a list of words and returns the most common word and the number of occurrences of that word:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">find_top_word</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
    <span class="c1"># Return most common word &amp; occurrences</span>
    <span class="n">word_counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">word_counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>


<p>We can test this function by creating a list, running the <code>find_top_word</code> function over that list and comparing the results of the function to the value we expect:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_find_top_word</span><span class="p">():</span>
    <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;bat&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">find_top_word</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span>
    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>
</pre></div>


<p>If we ever wanted to change the implementation of <code>find_top_words</code>, we can do it without fear. Our test ensures that the functionality of <code>find_top_word</code> cannot change without causing a test failure.</p>
<h3>Integration Tests</h3>
<p>Every complex application has internal and external components working together to do something interesting. In contrast to units tests which focus on individual components, integration tests combine various parts of the system and test them together as a group. Integration testing can also refer to testing at service boundaries of our application, i.e. when it goes out to the database, file system, or external API.</p>
<p>These tests are typically written by developers, but they don't have to be. By definition, integration tests are larger in scope and take longer to run than unit tests. This means that test failures require some investigation: we know that one of the components in our test is not working, but the failure's exact location needs to be found. This is in contrast to unit tests which are smaller in scope and indicate exactly where things have failed.</p>
<p>We should try to run integration tests in a production-like environment; this minimizes the chance that tests fail due to differences in configuration.</p>
<h4>Integration Test Example</h4>
<p>Suppose we have the following function that takes in a URL and a tuple of <code>(word, occurrences)</code>. Our function creates a records and saves it to the database:</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">save_to_db</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">top_word</span><span class="p">):</span>
    <span class="n">record</span> <span class="o">=</span> <span class="n">TopWord</span><span class="p">()</span>
    <span class="n">record</span><span class="o">.</span><span class="n">url</span> <span class="o">=</span> <span class="n">url</span>
    <span class="n">record</span><span class="o">.</span><span class="n">word</span> <span class="o">=</span> <span class="n">top_word</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">record</span><span class="o">.</span><span class="n">num_occurrences</span> <span class="o">=</span> <span class="n">top_word</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">record</span><span class="p">)</span>
    <span class="n">db</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">record</span>
</pre></div>


<p>We test this function by passing in known information; the function should save the information we entered into the database. Our test code pulls the newly saved record from the database and confirms its fields match the input we passed in.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_save_to_db</span><span class="p">():</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://test_url.com&quot;</span>
    <span class="n">most_common_word_details</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Python&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>

    <span class="n">word</span> <span class="o">=</span> <span class="n">save_to_db</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">most_common_word_details</span><span class="p">)</span>

    <span class="n">inserted_record</span> <span class="o">=</span> <span class="n">TopWord</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">word</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">inserted_record</span><span class="o">.</span><span class="n">url</span> <span class="o">==</span> <span class="s2">&quot;http://test_url.com&quot;</span>
    <span class="k">assert</span> <span class="n">inserted_record</span><span class="o">.</span><span class="n">word</span> <span class="o">==</span> <span class="s2">&quot;Python&quot;</span>
    <span class="k">assert</span> <span class="n">inserted_record</span><span class="o">.</span><span class="n">num_occurrences</span> <span class="o">==</span> <span class="mi">42</span>
</pre></div>


<p>Notice how this is the kind of testing we do manually to confirm things are working as expected. Automating this test saves us from having to repeatedly check this functionality each time we make a change to the code.</p>
<h3>End-to-End</h3>
<p>End-to-end tests check to see if the system meets our defined business requirements. A common test is to trace a path through the system in the same manner a user would experience. For example, we can test a new user workflow: simulate creating an account, "clicking" the link in the activate email, logging-in for the first time, and interacting with our web application's tutorial modal pop-up.</p>
<p>We can conduct end-to-end tests through our user interface (UI) by leveraging a browser automation tool like <a href="https://selenium-python.readthedocs.io/">Selenium</a>. This creates a dependency between our UI and our tests, which makes our tests brittle: a change to the front-end requires us to change tests. This is not sustainable as either our front-end will become static or our tests will not be run.</p>
<p>A better solution is to test the subcutaneous layer, i.e. the layer just below our user interface. For a web application, this would be testing the REST API, both sending in JSON and getting JSON out.</p>
<p>Our <a href="https://martinfowler.com/bliki/SubcutaneousTest.html">subcutaneous tests</a> are our contracts with our front-end; they can be used by our front-end developers as a specification of the REST API. Tools, like <a href="https://github.com/meqaio/swagger_meqa">swagger-meqa</a>, that are built on top of the OpenAPI Specification can help us automate this process. We could also full-featured tools like <a href="https://www.getpostman.com/">Postman</a> to test, debug, and validate our API.</p>
<p>End-to-end tests are considered black box as we do not need to know anything about the implementation in order to conduct testing. This also means that test failures provide no indication of what went wrong; we would need to use logs to help us trace the error and diagnose system failure.</p>
<h4>End-to-End Test Example</h4>
<p>Here we are using the <a href="http://flask.pocoo.org/docs/1.0/api/#flask.Flask.test_client">Flask Test client</a> to run subcutaneous testing on our REST API. There are a lot of things happening behind the scene and the result we get back (HTTP status code) lets us know that the test either passed or failed.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_end_to_end</span><span class="p">():</span>
    <span class="n">client</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_client</span><span class="p">()</span>

    <span class="n">body</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://www.python.org&quot;</span><span class="p">}</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/top-word&quot;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">body</span><span class="p">)</span>

    <span class="k">assert</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="n">HTTPStatus</span><span class="o">.</span><span class="n">OK</span>
</pre></div>


<h4>Resources</h4>
<ul>
<li>Martin Fowler Wiki: <a href="https://martinfowler.com/bliki/TestPyramid.html">TestPyramid</a> | <a href="https://martinfowler.com/bliki/UnitTest.html">UnitTest</a> | <a href="https://martinfowler.com/bliki/ComponentTest.html">IntegrationTest</a> | <a href="https://martinfowler.com/bliki/BroadStackTest.html">EndToEndTest</a></li>
<li>Google Testing Blog: <a href="https://testing.googleblog.com/2015/04/just-say-no-to-more-end-to-end-tests.html">Just Say No to More End-to-End Tests</a></li>
<li>Automation Panda: <a href="https://automationpanda.com/2018/08/01/the-testing-pyramid/">The Testing Pyramid</a></li>
</ul>
<hr>
<p><a name="structuring-tests"></a></p>
<h2>Structuring Tests</h2>
<p>Each test case can be separated into the following phases:</p>
<ul>
<li>setting up the system under test (SUT) to the environment required by the test case (pre-conditions)</li>
<li>performing the action we want to test on SUT</li>
<li>verifying if the expected outcome occurred (post-conditions)</li>
<li>tearing down SUT and putting the environment back to the state we found it in</li>
</ul>
<p>There are two widely used frameworks for structuring tests: Arrange-Act-Assert and Given-When-Then.</p>
<h3>Arrange-Act-Assert (AAA)</h3>
<p>The AAA pattern is abstraction for separating the different part of our tests:</p>
<ul>
<li><strong>Arrange</strong> all necessary pre-conditions</li>
<li><strong>Act</strong> on the SUT</li>
<li><strong>Assert</strong> that our post-conditions are met</li>
</ul>
<h4>Arrange-Act-Assert Example</h4>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_find_top_word</span><span class="p">():</span>
    <span class="c1"># Arrange</span>
    <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;bat&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">]</span>

    <span class="c1"># Act</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">find_top_word</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

    <span class="c1"># Assert</span>
    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span>
    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>
</pre></div>


<p>The clear separation between the phases allows us to see if our test method is trying to test too many different things at once. Arrange-Act-Assert is the pattern I use when writing tests.</p>
<h3>Given-When-Then (GWT)</h3>
<p>GWT provides a useful abstraction for separating the different phases of our test:</p>
<ul>
<li><strong>Given</strong> a set of pre-conditions</li>
<li><strong>When</strong> we perform an action on the SUT</li>
<li><strong>Then</strong> our post-conditions should be as follows</li>
</ul>
<p>GWT is widely used in <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">Behavior Driven Development</a> (BDD).</p>
<h4>Given-When-Then Example</h4>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_find_top_word</span><span class="p">():</span>
    <span class="c1"># Given a list of word</span>
    <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">,</span> <span class="s2">&quot;bat&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;baz&quot;</span><span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">]</span>

    <span class="c1"># When we run the function over the list</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">find_top_word</span><span class="p">(</span><span class="n">words</span><span class="p">)</span>

    <span class="c1"># Then we should see `foo` occurring 3 times</span>
    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span>
    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="mi">3</span>
</pre></div>


<h4>Resources</h4>
<ul>
<li>Gerard Meszaros: <a href="http://xunitpatterns.com/Four%20Phase%20Test.html">Four-Phase Test</a></li>
<li>Martin Fowler Wiki: <a href="https://martinfowler.com/bliki/GivenWhenThen.html">GivenWhenThen</a></li>
<li>C2 Wiki: <a href="http://wiki.c2.com/?ArrangeActAssert">Arrange Act Assert</a></li>
<li>James Cooke: <a href="https://jamescooke.info/arrange-act-assert-pattern-for-python-developers.html">Arrange Act Assert Pattern for Python Developers</a></li>
<li>Automation Panda: <a href="https://www.youtube.com/watch?v=EtIAbfCrsFI">Behavior-Driven Python</a></li>
</ul>
<hr>
<p><a name="what-to-test"></a></p>
<h2>What to Test</h2>
<p>In order to prove that our program is correct, we have to test it against every conceivable combination of input values. This type of exhaustive testing is not practical so we need to employ testing strategies that allow us to select test cases where errors are most likely to error.</p>
<p>Seasoned developers can balance writing code to solve business problems with writing tests to ensure correctness and prevent <a href="https://en.wikipedia.org/wiki/Regression_testing">regression</a>. Finding this balance and knowing what to test can feel more like an art than a science. Fortunately, there are a few rules of thumb we can follow to make sure our testing is thorough.</p>
<h4>Functional Requirements</h4>
<p>We want to make sure that all relevant requirements have been implemented. Our test cases should be detailed enough to check business requirements. There is no point building something if doesn't it meet the criteria you set forth.</p>
<h4>Basis Path Testing</h4>
<p>We have to test each statement at least once. If the statement has a conditional (<code>if</code> or <code>while</code>), we have to vary our testing to make sure we test all branches of the conditional. For example, if we have the following code:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
    <span class="c1"># statement1</span>
<span class="k">elif</span> <span class="mi">18</span> <span class="o">&gt;=</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">35</span><span class="p">:</span>
    <span class="c1"># statement2</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># statement3</span>
</pre></div>


<p>To make sure we hit all branches of the above conditional, we need to write the following tests:</p>
<ol>
<li><code>x &lt; 18</code></li>
<li><code>18 &lt;= x &lt;= 35</code></li>
<li><code>x &gt; 35</code></li>
</ol>
<h4>Equivalence Partitioning</h4>
<p>Two test cases that result in the same output are said to be equivalent. We only require one of the test cases in order to cover that class of errors.</p>
<h4>Boundary Analysis</h4>
<p><em>"There are 2 hard problems in Computer Science: cache invalidation, naming things, and off-by-1 errors."</em></p>
<p>This is one of the <a href="https://martinfowler.com/bliki/TwoHardThings.html">oldest jokes in programming</a>, but there is a lot of truth behind it, we often confuse if we need a <code>&lt;</code> or a <code>&lt;=</code>. This is why we should always test the boundary conditions. Given the following example:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">:</span>
    <span class="c1"># statement1</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># statement2</span>
</pre></div>


<p>To ensure we thoroughly test the boundary conditions of the code snippet above, we would to have test cases for <code>x=17</code>, <code>x=18</code>, and <code>x=19</code>. Be aware that writing test cases becomes more complicated if our boundary has compound conditionals.</p>
<p>This is a great <a href="https://medium.freecodecamp.org/a-beginners-guide-to-testing-implement-these-quick-checks-to-test-your-code-d50027ad5eed">guide on testing boundary conditions</a>.</p>
<h4>Classes of Bad Data</h4>
<p>This refers to any of the the following cases:</p>
<ul>
<li>Too little data (or no data)</li>
<li>Too much data</li>
<li>Invalid data</li>
<li>Wrong size of data</li>
<li>Uninitialized data</li>
</ul>
<h4>Data Flow Testing</h4>
<p>Focuses on tracing the control flow of the program with a focus on exploring the sequence of events related to the status of data objects. For example, we get an error if we try to access a variable that has been deleted. We can use Data Flow testing to come up with additional test cases for variables that have not be tested by other tests.</p>
<h4>Error Guessing</h4>
<p>Past experience provides insights into parts of our code base that can lead to errors. Keeping a record of previous errors can improve the likelihood that you will not make that same mistake again in the future.</p>
<h4>Recap</h4>
<p>Figuring out what to test and doing it efficiently is what I mean when I say <a href="/tag/art-of-developer-testing.html"><em>Art of Developer Testing</em></a>. The only way to get better at testing is by writing tests, coming up come up better testing strategies, and learning about different testing techniques. Just like in software development, the more you know about something, the better you will become at it.</p>
<hr>
<p><a name="when-to-write-tests"></a></p>
<h2>When to Write Tests</h2>
<p>While there is a lot of interesting discussion about when to write tests, I feel it takes away from the point of testing. It doesn't matter <strong>when</strong> you write tests, it just matters <strong>that</strong> you write tests.</p>
<p>If you are interested in exploring this topic, I recommend the following links:</p>
<ul>
<li>RubyOnRails creator David Heinemeier Hansson (DHH) <a href="https://www.youtube.com/watch?v=9LfmrkyP81M">criticizing TDD at RailsConf 2014</a></li>
<li><a href="https://martinfowler.com/articles/is-tdd-dead/">Is TDD Dead? discussion</a> with DHH, Martin Fowler, and Kent Beck</li>
<li><a href="https://www.tedmyoung.com/looking-at-tdd-an-academic-survey/">TDD: A Academic Survey</a> by Ted M. Young</li>
</ul>
<hr>
<p><a name="conclusion"></a></p>
<h2>Conclusion</h2>
<p>In this post, we got a broad introduction to the world of testing. Now that we are all on the same page, we can explore testing in more depth in future posts.</p>
<h4>Additional Resources</h4>
<ul>
<li><a href="https://www.amazon.com/Code-Complete-Practical-Handbook-Construction/dp/0735619670">Code Complete</a> Chapter 22: Developer Testing</li>
<li>Code Simplicity: <a href="https://www.codesimplicity.com/post/the-philosophy-of-testing/">The Philosophy of Testing</a></li>
<li>Katy Huff: <a href="https://katyhuff.github.io/python-testing/">Python Testing and Continuous Integration</a></li>
<li><a href="https://testandcode.com/">Test and Code Podcast</a></li>
</ul>
  </div>

<div class="article-tag-list">
<span class="label label-default">Tags</span>
	<a href="./tag/art-of-developer-testing.html"><i class="fa fa-tag"></i>art-of-developer-testing</a>&nbsp;
	<a href="./tag/testing.html"><i class="fa fa-tag"></i>testing</a>&nbsp;
	<a href="./tag/python.html"><i class="fa fa-tag"></i>python</a>&nbsp;
</div>  <hr />
  <div class="well well-sm">  <!-- Social media sharing buttons -->
    <!-- Twitter -->
    <a href="https://twitter.com/share" class="twitter-share-button" 
       data-via="CaiusSivjus" >Tweet</a>&nbsp;

    <!-- Google+ -->
    <div class="g-plus" data-action="share" data-annotation="bubble"></div>
    &nbsp;&nbsp;&nbsp;&nbsp;
    <div class="g-plusone" data-size="medium"></div>&nbsp;

    <!-- Facebook -->
    <div class="fb-like" 
        data-href="./testing-101-introduction-to-testing.html" 
        data-layout="button_count" 
        data-action="like" data-show-faces="true" 
        data-share="true">
    </div>
    &nbsp;
  </div> <!-- /Social media sharing buttons -->
  <div class="comments">
	<h2>Comments</h2>
	<div id="disqus_thread"></div>
	<script type="text/javascript">
				   (function() {
						var dsq = document.createElement('script');
						dsq.type = 'text/javascript'; dsq.async = true;
						dsq.src = '//siv-scripts.disqus.com/embed.js';
						(document.getElementsByTagName('head')[0] ||
						 document.getElementsByTagName('body')[0]).appendChild(dsq);
				  })();
	</script>
  </div>
</article>
        </div><!-- /content -->

        <div class="col-md-3 sidebar-nav" id="sidebar">

<div class="row">

<div class="col-xs-6 col-md-12">
<h4><i class="fa fa-comment fa-fw fa-lg"></i> Social</h4>
<ul class="list-unstyled social-links">
    <li><a href="http://linkedin.com/in/alysivji/" target="_blank">
	  <i class="fa fa-linkedin-square fa-fw fa-lg" title="LinkedIn"></i>
		LinkedIn
	</a></li>
    <li><a href="http://github.com/alysivji" target="_blank">
	  <i class="fa fa-github-square fa-fw fa-lg" title="GitHub"></i>
		GitHub
	</a></li>
    <li><a href="https://twitter.com/CaiusSivjus" target="_blank">
	  <i class="fa fa-twitter-square fa-fw fa-lg" title="Twitter"></i>
		Twitter
	</a></li>
</ul>
</div>

<div class="col-xs-6 col-md-12">
<h4><i class="fa fa-folder fa-fw fa-lg"></i> Categories</h4>
<ul class="list-unstyled category-links">
  <li><a href="./category/data-analysis.html" >
    <i class="fa fa-folder-open fa-fw fa-lg"></i> Data Analysis</a></li>
  <li><a href="./category/deep-dives.html" >
    <i class="fa fa-folder-open fa-fw fa-lg"></i> Deep Dives</a></li>
  <li><a href="./category/quick-hits.html" >
    <i class="fa fa-folder-open fa-fw fa-lg"></i> Quick Hits</a></li>
  <li><a href="./category/thoughts.html" >
    <i class="fa fa-folder-open fa-fw fa-lg"></i> Thoughts</a></li>
  <li><a href="./category/tutorials.html" >
    <i class="fa fa-folder-open fa-fw fa-lg"></i> Tutorials</a></li>
</ul>
</div>

</div> <!-- /row -->

<h4><i class="fa fa-tags fa-fw fa-lg"></i> Tags</h4>
<p class="tag-cloud">
    <span class="tag-4">
      <a href="./tag/web-development.html">
          <i class="fa fa-tag"></i>
        web-development
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/data-science.html">
          <i class="fa fa-tag"></i>
        data-science
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/languages.html">
          <i class="fa fa-tag"></i>
        languages
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/art-of-developer-testing.html">
          <i class="fa fa-tag"></i>
        art-of-developer-testing
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/mongodb.html">
          <i class="fa fa-tag"></i>
        mongodb
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/pandas.html">
          <i class="fa fa-tag"></i>
        pandas
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/review.html">
          <i class="fa fa-tag"></i>
        review
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/mac.html">
          <i class="fa fa-tag"></i>
        mac
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/gis.html">
          <i class="fa fa-tag"></i>
        gis
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/math.html">
          <i class="fa fa-tag"></i>
        math
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/php.html">
          <i class="fa fa-tag"></i>
        php
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/productivity.html">
          <i class="fa fa-tag"></i>
        productivity
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/community.html">
          <i class="fa fa-tag"></i>
        community
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/workflow.html">
          <i class="fa fa-tag"></i>
        workflow
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/flask.html">
          <i class="fa fa-tag"></i>
        flask
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/javascript.html">
          <i class="fa fa-tag"></i>
        javascript
      </a>
    </span>
    <span class="tag-1">
      <a href="./tag/how-to.html">
          <i class="fa fa-tag"></i>
        how-to
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/elasticsearch.html">
          <i class="fa fa-tag"></i>
        elasticsearch
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/pythonic.html">
          <i class="fa fa-tag"></i>
        pythonic
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/data-viz.html">
          <i class="fa fa-tag"></i>
        data-viz
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/reddit-scraper.html">
          <i class="fa fa-tag"></i>
        reddit-scraper
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/testing.html">
          <i class="fa fa-tag"></i>
        testing
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/terminal.html">
          <i class="fa fa-tag"></i>
        terminal
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/cest-la-vie.html">
          <i class="fa fa-tag"></i>
        c'est-la-vie
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/docker.html">
          <i class="fa fa-tag"></i>
        docker
      </a>
    </span>
    <span class="tag-2">
      <a href="./tag/exploring-pypi.html">
          <i class="fa fa-tag"></i>
        exploring-pypi
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/kubernetes.html">
          <i class="fa fa-tag"></i>
        kubernetes
      </a>
    </span>
    <span class="tag-1">
      <a href="./tag/python.html">
          <i class="fa fa-tag"></i>
        python
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/grad-school.html">
          <i class="fa fa-tag"></i>
        grad-school
      </a>
    </span>
    <span class="tag-4">
      <a href="./tag/vim.html">
          <i class="fa fa-tag"></i>
        vim
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/book.html">
          <i class="fa fa-tag"></i>
        book
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/web-scraping.html">
          <i class="fa fa-tag"></i>
        web-scraping
      </a>
    </span>
    <span class="tag-3">
      <a href="./tag/software-engineering.html">
          <i class="fa fa-tag"></i>
        software-engineering
      </a>
    </span>
</p>
<h4><i class="fa fa-rss fa-fw fa-lg"></i> Feeds</h4>
<ul class="list-unstyled">
    <li><a href="http://alysivji.github.io/feeds/all.atom.xml" 
		   type="application/atom+xml" rel="alternate">
		<i class="fa fa-rss-square fa-fw fa-lg"></i> Atom Feed</a></li>
</ul>

<hr />

        </div><!--/sidebar -->
      </div><!--/row-->
    </div><!--/.container /#main-container -->

    <footer id="site-footer">
      <address id="site-colophon">
        <p class="text-center text-muted">
        Site built using <a href="http://getpelican.com/" target="_blank">Pelican</a>
        &nbsp;&bull;&nbsp; Theme based on
        <a href="http://www.voidynullness.net/page/voidy-bootstrap-pelican-theme/"
           target="_blank">VoidyBootstrap</a> by
        <a href="http://www.robertiwancz.com/"
           target="_blank">RKI</a>
        </p>
      </address><!-- /colophon  -->
    </footer>

<!-- DISQUS script for displaying comment count -->
<script type="text/javascript">
    var disqus_shortname = 'siv-scripts';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

    <!-- javascript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>


<!-- Facebook -->
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>

<!-- Twitter -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Google+ -->
<!-- Synchronous 
<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
-->
<!-- Asynchronous -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>  </body>
</html>